(function(e){function t(t){for(var s,i,o=t[0],c=t[1],l=t[2],d=0,m=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&m.push(n[i][0]),n[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);u&&u(t);while(m.length)m.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],s=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(s=!1)}s&&(r.splice(t--,1),e=i(i.s=a[0]))}return e}var s={},n={app:0},r=[];function i(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=s,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(a,s,function(t){return e[t]}.bind(null,s));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var s=a("85ec"),n=a.n(s);n.a},"0e17":function(e,t,a){"use strict";var s=a("3675"),n=a.n(s);n.a},"15cd":function(e,t,a){"use strict";var s=a("d48c"),n=a.n(s);n.a},"1cbd":function(e,t,a){},3675:function(e,t,a){},"3cc5":function(e,t,a){"use strict";var s=a("88cd"),n=a.n(s);n.a},4678:function(e,t,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(e){var t=r(e);return a(t)}function r(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}n.keys=function(){return Object.keys(s)},n.resolve=r,e.exports=n,n.id="4678"},"4f9e":function(e,t,a){"use strict";var s=a("6283"),n=a.n(s);n.a},"523f":function(e,t,a){"use strict";var s=a("f377"),n=a.n(s);n.a},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-dialog",{attrs:{persistent:"",fullscreen:"","content-class":"loading-dialog"},model:{value:e.loadingData,callback:function(t){e.loadingData=t},expression:"loadingData"}},[a("v-container",{attrs:{"fill-height":""}},[a("v-layout",{attrs:{row:"","justify-center":"","align-center":""}},[e.dataError?e._e():a("clip-loader",{attrs:{color:e.loadingColor}}),e.dataError?a("h2",{staticClass:"primary--text"},[e._v("An error occured, please try again later. If the problem persists, please contact the application administrator.")]):e._e()],1)],1)],1),e.loadingData?e._e():a("v-container",[a("Header"),null!=e.selectedCamp?a("survey-viewer"):e._e()],1)],1)},r=[],i=a("da7a"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("div",{staticClass:"d-flex mb-7"},[e._m(0),e._m(1),a("div",{staticClass:"h--3 d-inline-flex align-center justify-center"},[a("v-select",{attrs:{items:e.camps,"item-text":"name",label:"Select a camp","item-value":"id",color:"secondary"},model:{value:e.selectedCamp,callback:function(t){e.selectedCamp=t},expression:"selectedCamp"}})],1)]),a("div",{staticClass:"map-container mb-7"},[a("the-map")],1)])},c=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"h--1 d-flex align-center justify-start"},[a("img",{staticClass:"appLogo",attrs:{src:"https://cartong.github.io/OPSMAP-ISIMM/img/logo_cccm.png",alt:""}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"h--2 d-inline-flex align-center justify-center"},[a("h1",{staticClass:"secondary--text"},[e._v("OPSMAP Nigeria")])])}],l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"map"}})},u=[],d=(a("4de4"),a("d81d"),a("fb6a"),a("b0c0"),a("e192")),m=a.n(d),f=function(e){var t={type:"FeatureCollection",features:[]};return e.map((function(e){return t.features.push({type:"Feature",geometry:{type:"Point",coordinates:[e.long,e.lat]},properties:{id:e.id,name:e.name}})})),t};m.a.accessToken="pk.eyJ1IjoiY2FydG9uZyIsImEiOiJjazJldzVobGkwOWRxM2hzNTB1M3o2cG94In0.w7FyG31FWqXm3vXSh6WtxQ";var p={name:"TheMap",mounted:function(){this.initMap()},computed:{camps:function(){var e=this;return{selectedCamp:f(this.$store.state.camps.filter((function(t){return t.id==e.$store.state.selectedCamp}))),otherCamps:f(this.$store.state.camps.filter((function(t){return t.id!=e.$store.state.selectedCamp})))}},selectedCamp:function(){return this.$store.state.selectedCamp}},watch:{camps:function(){this.refreshCampsLayer()}},methods:{initMap:function(){this.map=new m.a.Map({container:"map",style:"mapbox://styles/mapbox/streets-v11",center:[7.5,9],zoom:4.7}),this.map.on("load",this.refreshCampsLayer)},refreshCampsLayer:function(){var e=this;this.map.getLayer("camps")&&this.map.removeLayer("camps"),this.map.getLayer("camp")&&this.map.removeLayer("camp"),this.map.getLayer("cluster-count")&&this.map.removeLayer("cluster-count"),this.map.getLayer("clusters")&&this.map.removeLayer("clusters"),this.map.getSource("otherCamps")&&this.map.removeSource("otherCamps"),this.map.getSource("selectedCamp")&&this.map.removeSource("selectedCamp"),this.map.loadImage("https://raw.githubusercontent.com/0live/large_geojson-sample/master/default.png",(function(t,a){if(t)throw t;e.map.hasImage("default")||e.map.addImage("default",a),e.map.addSource("otherCamps",{type:"geojson",data:e.camps.otherCamps,cluster:!0,clusterMaxZoom:14,clusterRadius:50}),e.map.addLayer({id:"clusters",type:"circle",source:"otherCamps",filter:["has","point_count"],paint:{"circle-color":["step",["get","point_count"],"#78b4ff",10,"#337fdd",30,"#286090"],"circle-radius":["step",["get","point_count"],10,10,15,30,20]}}),e.map.addLayer({id:"cluster-count",type:"symbol",source:"otherCamps",filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["Arial Unicode MS Bold"],"text-size":12},paint:{"text-color":"#ffffff"}}),e.map.on("click","clusters",(function(t){var a=e.map.queryRenderedFeatures(t.point,{layers:["clusters"]}),s=a[0].properties.cluster_id;e.map.getSource("otherCamps").getClusterExpansionZoom(s,(function(t,s){t||e.map.easeTo({center:a[0].geometry.coordinates,zoom:s})}))})),e.map.addLayer({id:"camps",type:"symbol",source:"otherCamps",filter:["!",["has","point_count"]],layout:{"icon-image":"default","icon-size":.025}})})),this.map.loadImage("https://raw.githubusercontent.com/0live/large_geojson-sample/master/default_selected.png",(function(t,a){if(t)throw t;e.map.hasImage("default_selected")||e.map.addImage("default_selected",a),e.map.addSource("selectedCamp",{type:"geojson",data:e.camps.selectedCamp}),e.map.addLayer({id:"camp",type:"symbol",source:"selectedCamp",filter:["!",["has","point_count"]],layout:{"icon-image":"default_selected","icon-size":.035}})})),this.map.on("click","camps",(function(t){e.$store.commit("setSelectedCamp",t.features[0].properties.id)}));var t=new m.a.Popup({closeButton:!1,closeOnClick:!1});this.map.on("mouseenter","camps",(function(a){e.map.getCanvas().style.cursor="pointer";var s=a.features[0].geometry.coordinates.slice(),n='<h4 class="primary--text">'.concat(a.features[0].properties.name,"</h4>");t.setLngLat(s).setHTML(n).addTo(e.map)})),this.map.on("mouseleave","camps",(function(){e.map.getCanvas().style.cursor="",t.remove()})),this.map.on("mouseenter","camp",(function(a){e.map.getCanvas().style.cursor="pointer";var s=a.features[0].geometry.coordinates.slice(),n='<h4 class="primary--text">'.concat(a.features[0].properties.name,"</h4>");t.setLngLat(s).setHTML(n).addTo(e.map)})),this.map.on("mouseleave","camp",(function(){e.map.getCanvas().style.cursor="",t.remove()}))}}},h=p,b=(a("15cd"),a("2877")),v=Object(b["a"])(h,l,u,!1,null,"529d8dc0",null),g=v.exports,y={name:"Header",components:{TheMap:g},computed:{camps:function(){return this.$store.state.camps},selectedCamp:{get:function(){return this.$store.state.selectedCamp},set:function(e){this.$store.commit("setSelectedCamp",e)}}}},j=y,_=(a("4f9e"),a("6544")),C=a.n(_),w=a("b974"),k=Object(b["a"])(j,o,c,!1,null,"1c33620e",null),x=k.exports;C()(k,{VSelect:w["a"]});var D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",e._l(e.selectedSubmission,(function(t){return a("div",{key:t.name,staticClass:"mb-3 category-container mt-2"},[a("div",{staticClass:"d-flex align-center full-width mb-2 "},[a("img",{staticClass:"category-icon ml-4",attrs:{src:t.icon,alt:""}}),a("h1",{staticClass:"ml-3 secondary--text"},[e._v(e._s(t.name))]),a("div",{staticClass:"flex-grow-1"}),a("v-tooltip",{attrs:{right:"",color:"primary"},scopedSlots:e._u([{key:"activator",fn:function(s){var n=s.on;return["General"==t.name?a("v-btn",e._g({staticClass:"ma-2",attrs:{outlined:"",small:"",fab:"",color:"primary"},on:{click:function(t){e.selectedCamp=null}}},n),[a("v-icon",[e._v("mdi-close")])],1):e._e()]}}],null,!0)},[a("span",[e._v("Unselect this camp")])])],1),"Demographic Distribution"==t.name&&t.data["age_pyramid#1"]?a("AgePyramidChart",{attrs:{id:t.data["age_pyramid#1"][0].value+Math.floor(Math.random()*Math.floor(1e5)),surveyData:t.data["age_pyramid#1"]}}):e._e(),"Demographic Distribution"==t.name&&t.data["doughnut_chart#2"]?a("DoughnutChart",{attrs:{id:t.data["doughnut_chart#2"][0].value+Math.floor(Math.random()*Math.floor(1e5)),surveyData:t.data["doughnut_chart#2"]}}):e._e(),e._l(t.data,(function(t,s){return a("div",{key:t.question+"+"+s,staticClass:"d-flex align-center full-width ml-8"},[null!=t.tl?a("span",{staticClass:"square mr-2",style:{"background-color":t.tl}}):e._e(),a("span",{staticClass:"subtitle-1"},[e._v(e._s(t.question))]),a("span",{staticClass:"subtitle-2 secondary--text ml-2"},[e._v(e._s(e.getLabel(t.answer)))])])})),"Shelter - NFI"==t.name&&t.data["polar_area_chart#3"]?a("PolarChart",{attrs:{id:t.data["polar_area_chart#3"][0].value+Math.floor(Math.random()*Math.floor(1e5)),surveyData:t.data["polar_area_chart#3"]}}):e._e()],2)})),0)},S=[],L=(a("a15b"),a("ac1f"),a("1276"),a("b85c")),O=a("c772"),P=[{csv_name:"general_info",app_name:"General",icon:"",column:1},{csv_name:"demographic_distribution",app_name:"Demographic Distribution",icon:"People.png",column:2},{csv_name:"cccm",app_name:"CCCM",icon:"CCCM.png",column:1},{csv_name:"shelter_nfi",app_name:"Shelter - NFI",icon:"Shelter.png",column:2},{csv_name:"wash",app_name:"Water, sanitation and hygiene",icon:"Wash.png",column:1},{csv_name:"food_security",app_name:"Food Security",icon:"Food-Security.png",column:2},{csv_name:"health",app_name:"Health",icon:"Health.png",column:1},{csv_name:"nutrition",app_name:"Nutrition",icon:"Nutrition.png",column:2},{csv_name:"education",app_name:"Education",icon:"Education.png",column:1},{csv_name:"livelihood",app_name:"Livelihood",icon:"Livelihood.png",column:2},{csv_name:"protection",app_name:"Protection",icon:"Protection.png",column:1}],z=function(e,t){var a="#62BB62",s="#ffeb0a",n="#FFA90A",r="#DA5A56",i="#9D9D9D";if("yesno"==e)return"yes"==t?a:"no"==t?r:i;if("noyes"==e)return"yes"==t?r:"no"==t?a:i;if("dedicatedSfVsPopulation"==e)return t<=2500?a:t>2500?r:i;if("mobileSfVsPopulation"==e)return t<=500?a:t>500?r:i;if("PartnerPresenceLivelihood"==e||"PartnerPresenceEducation"==e||"PartnerPresenceFoodSecurity"==e||"PartnerPresenceHealth"==e||"PartnerPresenceNutrition"==e||"PartnerPresenceProtection"==e||"PartnerPresenceShelter"==e)return"none"==t.toLowerCase()?r:a;if("DistanceToX"==e){var o=parseInt(t.substring(t.length-1));return o<5?a:o<10?n:o>10?r:i}return"TotalMalnutrition"==e||"NumberFemaleChildwithDisability"==e||"NumberMaleChildwithDisability"==e||"NumberFemaleAdultswithDisability"==e||"NumberMaleAdultswithDisability"==e||"NumberHHLivingOutside"==e||"NumberHHSharingShelter"==e||"NumberTransitionaldamagedShelters"==e?parseInt(t)>=1?r:a:"nfidistrange"==e?"within_1month"==t?a:"within_2month"==t?s:"within_3month"==t?n:r:"NumberLitresppPerday"==e?parseInt(t)>=15?a:r:"WaterWaitingTime"==e?"time1"==t?a:"time2"==t?s:"time3"==t?n:r:"TotalLatrinesVsIndidual"==e||"TotalShowersVsIndidual"==e?parseInt(t)<=20?a:parseInt(t)<=25?s:r:null},M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"age-pyramid-chart-container"},[a("div",{staticClass:"chart-container"},[a("canvas",{ref:"chartCanvas",attrs:{id:e.id}})])])},E=[],$=a("5530"),I=a("30ef"),F=a.n(I),A=(a("a9e3"),{type:"horizontalBar",data:{},options:{responsive:!0,maintainAspectRatio:!1,legend:{position:"top",reverse:!0},title:{display:!0,fontSize:14,text:"Age Pyramid"},scales:{xAxes:[{ticks:{callback:function(e){return e<0?0-e:e}}}],yAxes:[{stacked:!0,barThickness:15}]},tooltips:{callbacks:{obj:function(e,t){return t.datasets[e[0].datasetIndex].label+": "+t.labels[e[0].index]},label:function(e,t){return 1===e.datasetIndex?Number(0-t.datasets[1].data[e.index]):t.datasets[0].data[e.index]}}}}}),T={name:"AgePyramidChart",props:{id:{type:String,required:!0},surveyData:{type:Array,required:!0}},data:function(){return{labels:["60 or older","36-59 years","18-35 years","6-17 years","0-5 years"]}},computed:{chartDatasets:function(){var e=this,t=["Males 0-5 years:","Males 6-17 years:","Males 18-35 years:","Males 36-59 years:","Males 60 or older:"],a=["Females 0-5 years:","Females 6-17 year:","Females 18-35 years:","Females 36-59 years:","Females 60 or older:"],s=[],n=[];return t.map((function(t){var a,n=Object(L["a"])(e.surveyData);try{for(n.s();!(a=n.n()).done;){var r=a.value;r.label==t&&s.push(0-parseInt(r.value))}}catch(i){n.e(i)}finally{n.f()}})),a.map((function(t){var a,s=Object(L["a"])(e.surveyData);try{for(s.s();!(a=s.n()).done;){var r=a.value;r.label==t&&n.push(parseInt(r.value))}}catch(i){s.e(i)}finally{s.f()}})),[{label:"Female",backgroundColor:"#f37788",data:n.reverse()},{label:"Male",backgroundColor:"#4095cd",data:s.reverse()}]}},methods:{buildChart:function(){var e=this;void 0!=this.chart&&this.chart.destroy();var t={datasets:this.chartDatasets,labels:this.labels},a=Object($["a"])(Object($["a"])({},A),{data:t}),s=this.$refs.chartCanvas.getContext("2d");s.height=500,this.chart=new F.a(s,a),window.addEventListener("resize",(function(){e.chart.destroy(),e.chart=new F.a(s,a)}))}},mounted:function(){this.buildChart()},updated:function(){this.buildChart()}},N=T,q=(a("0e17"),Object(b["a"])(N,M,E,!1,null,"56e9caaf",null)),V=q.exports,R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"age-pyramid-chart-container"},[a("div",{staticClass:"chart-container"},[a("canvas",{ref:"chartCanvas",attrs:{id:e.id}})])])},H=[],W=(a("4160"),a("159b"),{type:"doughnut",data:{},options:{responsive:!0,maintainAspectRatio:!1,legend:{position:"left",reverse:!0},title:{display:!0,fontSize:14,text:"Specific Groups"}}}),B={name:"DoughnutChart",props:{id:{type:String,required:!0},surveyData:{type:Array,required:!0}},computed:{chartDatasets:function(){var e=["#FF335C","#12BFCE","#c6ecae","#642b50","#8b9376","#b2916c"],t=[{data:[],backgroundColor:[]}];return this.surveyData.forEach((function(a,s){t[0].data.push(parseInt(a.value)),t[0].backgroundColor.push(e[s])})),t},labels:function(){var e,t=[],a=Object(L["a"])(this.surveyData);try{for(a.s();!(e=a.n()).done;){var s=e.value;t.push(s.label.slice(0,-1))}}catch(n){a.e(n)}finally{a.f()}return t}},methods:{buildChart:function(){var e=this;void 0!=this.chart&&this.chart.destroy();var t={datasets:this.chartDatasets,labels:this.labels},a=Object($["a"])(Object($["a"])({},W),{data:t}),s=this.$refs.chartCanvas.getContext("2d");s.height=500,this.chart=new F.a(s,a),window.addEventListener("resize",(function(){e.chart.destroy(),e.chart=new F.a(s,a)}))}},mounted:function(){this.buildChart()},updated:function(){this.buildChart()}},G=B,J=(a("3cc5"),Object(b["a"])(G,R,H,!1,null,"58f54574",null)),U=J.exports,Z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"age-pyramid-chart-container"},[a("div",{staticClass:"chart-container"},[a("canvas",{ref:"chartCanvas",attrs:{id:e.id}})])])},X=[],Q={type:"polarArea",data:{},options:{legend:{position:"left",reverse:!0},title:{display:!0,fontSize:14,text:"Repartition"},scale:{ticks:{beginAtZero:!0},reverse:!1},animation:{animateRotate:!1,animateScale:!0}}},Y={name:"PolarChart",props:{id:{type:String,required:!0},surveyData:{type:Array,required:!0}},computed:{chartDatasets:function(){var e=["rgba(255, 51, 92, 0.5)","rgba(18, 191, 206, 0.5)","rgba(198, 236, 174, 0.5)","#642b50","#8b9376","#b2916c"],t=[{data:[],backgroundColor:[]}];return this.surveyData.forEach((function(a,s){t[0].data.push(parseInt(a.value)),t[0].backgroundColor.push(e[s])})),t},labels:function(){var e,t=[],a=Object(L["a"])(this.surveyData);try{for(a.s();!(e=a.n()).done;){var s=e.value;t.push(s.label.slice(0,-1))}}catch(n){a.e(n)}finally{a.f()}return t}},methods:{buildChart:function(){var e=this;void 0!=this.chart&&this.chart.destroy();var t={datasets:this.chartDatasets,labels:this.labels},a=Object($["a"])(Object($["a"])({},Q),{data:t}),s=this.$refs.chartCanvas.getContext("2d");this.chart=new F.a(s,a),window.addEventListener("resize",(function(){e.chart.destroy(),e.chart=new F.a(s,a)}))}},mounted:function(){this.buildChart()},updated:function(){this.buildChart()}},K=Y,ee=(a("523f"),Object(b["a"])(K,Z,X,!1,null,"3aca7c9a",null)),te=ee.exports,ae=!1,se={name:"SurveyViewer",components:{AgePyramidChart:V,DoughnutChart:U,PolarChart:te},computed:{selectedCamp:{get:function(){return this.$store.state.selectedCamp},set:function(e){this.$store.commit("setSelectedCamp",e)}},submissions:function(){return this.$store.state.submissions},surveyConfig:function(){return this.$store.state.surveyConfig},labels:function(){return this.$store.state.labels},selectedSubmission:function(){var e=this,t={};if(P.map((function(e){t[e.csv_name]={data:[],name:e.app_name,icon:ae?"/icons/".concat(e.icon):"./icons/".concat(e.icon)}})),null!=this.selectedCamp)for(var a in this.submissions)if(a==this.selectedCamp)for(var s in this.submissions[a])Object(O["a"])(this.surveyConfig[s],this.submissions[a])&&(this.surveyConfig[s].chart?t[this.surveyConfig[s].category_name].data[this.surveyConfig[s].chart]?t[this.surveyConfig[s].category_name].data[this.surveyConfig[s].chart].push({label:this.surveyConfig[s].alias,value:this.submissions[a][s]}):t[this.surveyConfig[s].category_name].data[this.surveyConfig[s].chart]=[{label:this.surveyConfig[s].alias,value:this.submissions[a][s]}]:t[this.surveyConfig[s].category_name].data.push({question:this.surveyConfig[s].alias,answer:"yes"==this.surveyConfig[s].multiple?this.submissions[a][s].split(" ").map((function(t){return e.getLabel(t)})).join(", "):this.submissions[a][s],tl:""!=this.surveyConfig[s].traffic_light?z(this.surveyConfig[s].traffic_light,this.submissions[a][s]):null}));return console.log(t),t}},methods:{getLabel:function(e){var t,a=Object(L["a"])(this.labels);try{for(a.s();!(t=a.n()).done;){var s=t.value;if(s.name==e)return s.label}}catch(n){a.e(n)}finally{a.f()}return e}}},ne=se,re=(a("fe70"),a("8336")),ie=a("132d"),oe=a("3a2f"),ce=Object(b["a"])(ne,D,S,!1,null,"278194f4",null),le=ce.exports;C()(ce,{VBtn:re["a"],VIcon:ie["a"],VTooltip:oe["a"]});var ue={name:"App",components:{ClipLoader:i["a"],Header:x,SurveyViewer:le},data:function(){return{loadingColor:"#286090"}},computed:{loadingData:function(){return this.$store.state.loadingData},dataError:function(){return this.$store.state.dataError},selectedCamp:function(){return this.$store.state.selectedCamp}},mounted:function(){this.$store.dispatch("getData")}},de=ue,me=(a("034f"),a("7496")),fe=a("a523"),pe=a("169a"),he=a("a722"),be=Object(b["a"])(de,n,r,!1,null,null,null),ve=be.exports;C()(be,{VApp:me["a"],VContainer:fe["a"],VDialog:pe["a"],VLayout:he["a"]});a("99af"),a("96cf");var ge=a("1da1"),ye=a("2f62"),je=a("bc3a"),_e=a("369b");s["a"].use(ye["a"]);var Ce=new ye["a"].Store({state:{loadingData:!0,dataError:!1,raisedError:null,submissions:{},camps:[],surveyConfig:{},labels:[],selectedCamp:null},mutations:{setDataLoadingError:function(e,t){e.dataError=!0,e.raisedError=t},stopLoading:function(e){e.loadingData=!1},setSurveyConfig:function(e,t){e.surveyConfig=t},setSubmissions:function(e,t){e.submissions=t},setCamps:function(e,t){e.camps=t},setLabels:function(e,t){e.labels=t},setSelectedCamp:function(e,t){e.selectedCamp=t}},actions:{getData:function(e){return Object(ge["a"])(regeneratorRuntime.mark((function t(){var a,s,n,r,i,o,c,l,u,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a={},_e["parse"]("https://github.com/0live/large_geojson-sample/blob/master/survey_config_j.csv?raw=true",{download:!0,header:!0,complete:function(t){var s,n=Object(L["a"])(t.data);try{for(n.s();!(s=n.n()).done;){var r=s.value;void 0!=r.csv_field&&(a["".concat(r.category.toLowerCase(),"/").concat(r.csv_field.toLowerCase())]=Object($["a"])({},r))}}catch(i){n.e(i)}finally{n.f()}e.commit("setSurveyConfig",a)},error:function(e){console.log(e)}}),_e["parse"]("https://raw.githubusercontent.com/0live/large_geojson-sample/master/labels.csv",{download:!0,header:!0,complete:function(t){t.data.pop(),e.commit("setLabels",t.data)},error:function(e){console.log(e)}}),s="https://kobo.humanitarianresponse.info/api/v2/assets/aJ7uW4DUnpfsn6kRjvQWFq/data.json",n={method:"get",url:s,headers:{Authorization:"Token ab46c724b720d44c4c8d44e86241219ce5cec6d6"}},t.next=8,je(n);case 8:r=t.sent,i={},o=[],c=Object(L["a"])(r.data.results);try{for(c.s();!(l=c.n()).done;)u=l.value,i[u._uuid]?new Date(i[u._uuid]._submission_time)<new Date(u._submission_time)&&(i[u._uuid]=u):i[u._uuid]=u}catch(m){c.e(m)}finally{c.f()}for(d in i)o.push({id:i[d]["_uuid"],name:i[d]["group_general_info/site_name"],lat:i[d]["group_general_info/latitude"],long:i[d]["group_general_info/longitude"]});o.sort((function(e,t){return e.name.localeCompare(t.name)})),e.commit("setSubmissions",i),e.commit("setCamps",o),e.commit("stopLoading"),t.next=23;break;case 20:t.prev=20,t.t0=t["catch"](0),e.commit("setDataLoadingError",t.t0);case 23:case"end":return t.stop()}}),t,null,[[0,20]])})))()}},modules:{}}),we=a("f309");s["a"].use(we["a"]);var ke=new we["a"]({theme:{themes:{light:{primary:"#286090",secondary:"#337FDD",accent:"#8c9eff",error:"#b71c1c"}}}});s["a"].config.productionTip=!1,new s["a"]({store:Ce,vuetify:ke,render:function(e){return e(ve)}}).$mount("#app")},6283:function(e,t,a){},"85ec":function(e,t,a){},"88cd":function(e,t,a){},c772:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return isRelevant}));var isRelevant=function isRelevant(condition,submission){return void 0!==submission&&(void 0!==condition&&(""==condition.relevant||eval(condition.relevant)))}},d48c:function(e,t,a){},f377:function(e,t,a){},fe70:function(e,t,a){"use strict";var s=a("1cbd"),n=a.n(s);n.a}});
//# sourceMappingURL=app.8c602b49.js.map